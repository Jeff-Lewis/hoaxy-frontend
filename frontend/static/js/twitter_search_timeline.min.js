function TwitterSearchTimeline(t){var e=t.updateDateRangeCallback,a=t.graphAnimation,n={},r=null,s=[],l={};function i(t){return d3.time.format("%m/%d/%Y %H:%M:%S %p")(new Date(t))}(r=nv.models.lineWithFocusChart().showLegend(!1).useInteractiveGuideline(!0)).interactiveLayer.tooltip.contentGenerator(function(t){var e,a=t.value.split(" "),n=a[0].split("/"),r=n[0],s=n[1],i=n[2],c=a[1].split(":"),o=c[0],u=c[1],d=c[2],m=new Date(parseInt(i),parseInt(r)-1,parseInt(s),parseInt(o),parseInt(u),parseInt(d)).getTime();for(dateRateIx in l[0].values){m===new Date(l[0].values[dateRateIx].x).getTime()&&(e=dateRateIx)}return"<div><b>"+String(t.value)+"</b></div><div style='display:flex; justify-content:left; align-items:center;'> <div style='display:inline-block; margin:5px; width:10px; height:10px; background-color:"+String(colors.edge_colors.claim)+";'> </div> <div>New Tweets: "+String(l[0].values[e].y)+"</div> </div>"}),r.margin({right:70,bottom:80}),r.xAxis.tickFormat(i).ticks(5).staggerLabels(!0),r.x2Axis.tickFormat(i).staggerLabels(!0).ticks(5),r.forceY([0]),r.yAxis.axisLabel("Cumulative Tweets"),r.color([colors.edge_colors.claim,"#00ff00"]);var c=0,o=function(t){clearTimeout(c),c=setTimeout(function(){!function(t){document.getElementById("extent-0")&&(document.getElementById("extent-0").innerHTML=t.extent[0]);document.getElementById("extent-1")&&(document.getElementById("extent-1").innerHTML=t.extent[1]);document.getElementById("extent-00")&&(document.getElementById("extent-00").innerHTML=new Date(t.extent[0]).toISOString());document.getElementById("extent-11")&&(document.getElementById("extent-11").innerHTML=new Date(t.extent[1]).toISOString());var a=t.extent[0],n=t.extent[1];try{e(a,n)}catch(e){"Tried to make graph, but there is no data."===e?console.info(e,"This is not an error."):console.warn(e),setTimeout(function(){o(t)},500)}}(t)},200)};var u=0;return n.removeUpdateDateRangeCallback=function(){r.dispatch.on("brush",null)},n.update=function(t){u=0,t;var e=0;if(!t)return{time:null,tweet_values:[]};for(var a in time=t.claim.timestamp,volume_tweets=t.claim.volume,tweet_values=[],volume_tweets){var n=new Date(time[a]).getTime();volume_tweets[a]>u&&(u=volume_tweets[a]),n>e&&(e=n),tweet_values.push({x:new Date(time[a]),y:volume_tweets[a]})}s.length=0,r.update&&r.update();var i={key:"Tweets",values:tweet_values,c:colors.edge_colors.claim};s.push(i),function(t){for(var e=0,a=(l=JSON.parse(JSON.stringify(t)))[0].values.length,n=0;n<a;n++){var r=l[0].values[n].y;l[0].values[n].y=r-e,e=r}}(s);try{d3.select("#chart svg").datum(s).call(r),d3.selectAll("#chart svg .nv-axisMax-x text").attr("transform","translate(0, 12)"),d3.select("#chart svg .nvd3 > g").attr("transform","translate(0, -10)")}catch(t){console.debug(t)}},n.chart=r,n.redraw=function(){r&&(r.dispatch.on("brush",null),d3.select("#chart svg").call(r),r.dispatch.on("brush",o),d3.selectAll("#chart svg .nv-axisMax-x text").attr("transform","translate(0, 12)"),d3.select("#chart svg .nvd3 > g").attr("transform","translate(0, -10)"))},n.updateDateRange=function(){try{d3.select("#chart svg").datum(s).call(r),d3.selectAll("#chart svg .nv-axisMax-x text").attr("transform","translate(0, 12)"),d3.select("#chart svg .nvd3 > g").attr("transform","translate(0, -10)")}catch(t){console.debug("Error in triggerUpdataRange.",t)}},n.updateTimestamp=function(){a.current_timestamp?s[1]={key:"Time",values:[{x:new Date(a.current_timestamp),y:0},{x:new Date(a.current_timestamp),y:u}],disableTooltip:!0}:delete s[1],r.dispatch.on("brush",null),d3.select("#chart svg").datum(s).call(r),d3.selectAll("#chart svg .nv-axisMax-x text").attr("transform","translate(0, 12)"),d3.select("#chart svg .nvd3 > g").attr("transform","translate(0, -10)"),r.dispatch.on("brush",o)},n}